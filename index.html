<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face Mesh PWA</title>
    
    <!-- PWA 메타 태그 -->
    <meta name="theme-color" content="#4285f4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Face Mesh PWA">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="manifest" href="manifest.json">
    
    <!-- 스타일시트 -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- MediaPipe 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="header">
        <h1>Face Mesh PWA</h1>
        <p>MediaPipe를 활용한 실시간 얼굴 메시 카메라</p>
    </div>
    
    <div class="container">
        <div class="video-container">
            <video id="input-video" playsinline></video>
            <canvas id="output-canvas"></canvas>
        </div>
        
        <div class="controls">
            <button id="startBtn" class="button">카메라 시작</button>
            <button id="switchBtn" class="button" disabled>카메라 전환</button>
            <button id="captureBtn" class="button" disabled>사진 찍기</button>
        </div>
        
        <div class="effect-buttons">
            <button class="effect-button active" data-effect="mesh">메시</button>
            <button class="effect-button" data-effect="contour">윤곽선</button>
            <button class="effect-button" data-effect="irises">홍채</button>
            <button class="effect-button" data-effect="fun">재미 효과</button>
            <button class="effect-button" data-effect="none">없음</button>
        </div>
        
        <div class="options">
            <div class="option-row">
                <span>메시 밀도</span>
                <select id="meshDensity">
                    <option value="sparse">낮음</option>
                    <option value="medium" selected>중간</option>
                    <option value="dense">높음</option>
                </select>
            </div>
            <div class="option-row">
                <span>메시 색상</span>
                <input type="color" id="meshColor" value="#4285f4">
            </div>
            <div class="option-row">
                <span>메시 두께</span>
                <input type="range" id="meshThickness" min="1" max="5" value="2">
            </div>
        </div>
        
        <p id="status" class="status">카메라를 시작하려면 버튼을 클릭하세요.</p>
    </div>
    
    <!-- 자바스크립트 모듈 -->
    <script type="module" src="main.js"></script>